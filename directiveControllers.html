<!DOCTYPE html>
<html ng-app="exampleApp">
<head>
	<script type="text/javascript" src="angular.js"></script>
	<link rel="stylesheet" type="text/css" href="bootstrap.css">
	<link rel="stylesheet" type="text/css" href="bootstrap-theme.css">
	<script type="text/ng-template" id="productTemplate">
		<td>{{item.name}}</td>
		<td><input ng-model="item.quantity" /></td>
	</script>
	<script type="text/javascript">
	angular.module("exampleApp",[])
	.controller("defaultCtrl",function($scope){
		$scope.products = [
			{name:"Apples",price:1.20,quantity:2},
			{name:"Bananas",price:2.24,quantity:3},
			{name:"Pears",price:2.02,quantity:1}
		];
	})
	.directive("productItem",function(){
		return {
			template:document.querySelector("#productTemplate").outerText
		}
	})
	.directive("productTable",function(){
		return {
			transclude:true,
			scope:{
				value:"=productTable",
				data:"=productData"
			}
		}
	});
	</script>
</head>
<body ng-controller="defaultCtrl">
	<div class="panel-body">
		<table class="table table-striped" product-table="totalValue" product-data="products" ng-transclude>
			<tr><th>Name</th><th>Quantity</th></tr>
			<tr ng-repeat="item in products" product-item></tr>
			<tr><th>Total:</th><td>{{totalValue}}</td></tr>
		</table>
	</div>
</body>
</html>